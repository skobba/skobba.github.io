---
import { getCollection } from 'astro:content';
import DocLayout from '../../layouts/DocLayout.astro';

export async function getStaticPaths() {
	const docs = await getCollection('docs');
	
	console.log('docs: ', docs);

	return docs.map((doc) => ({
		params: { slug: doc.slug },
		props: doc,
	}));
}

const docs = await getCollection('docs');
const slug = Astro.params.slug;

const doc = docs.find(d => d.slug === slug);

const { Content } = await doc.render();

console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
console.log('**************************************************')
---

<DocLayout {...doc.data}>
	<Content />
</DocLayout>
c
